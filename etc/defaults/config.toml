#:schema https://raw.githubusercontent.com/pamburus/hl/183be3676faee08201ba8dd91df33b6be3d78376/schema/json/config.schema.json

#
# Time format, see https://man7.org/linux/man-pages/man1/date.1.html for details.
time-format = "%b %d %T.%3N"
#
# Time zone name, see column "TZ identifier" at
# https://en.wikipedia.org/wiki/List_of_tz_database_time_zones page.
time-zone = "UTC"
#
# Layouts defining which information about the input file to display.
# One or many of the following values can be specified: [`auto`, `none`, `minimal`, `compact`, `full`].
# If multiple layouts are specified, only these layouts will be enabled.
#
# If `auto` is specified, the most suitable layout will be automatically chosen from the enabled layouts
# based on the number of input files and the width of the terminal screen.
#
# If `auto` is specified but no other layouts are specified, all supported layouts will be enabled.
#
# Layout `none` means that no information about the input file is displayed.
# Layout `minimal` means that only the input file number is displayed.
# Layout `compact` means that the input file number and shortened path are displayed.
# Layout `full` means that the input file number and full path are displayed.
input-info = "auto"
#
# When to use ASCII mode for punctuation [auto, never, always].
# If set to `auto`, Unicode support is automatically detected.
# See [formatting.punctuation] setting.
ascii = "auto"
#
# Currently selected theme.
theme = "uni"
#
# Theme overlays to apply on top of the base theme and main configured theme.
# Overlays are merged in the specified order: @base → theme → overlays (in list order).
# Overlays are regular theme files that can customize specific aspects without replacing the entire theme.
# Example: ["@accent-italic"] applies italic attribute to accent style.
# Default: ["@accent-italic"].
theme-overlays = ["@accent-italic"]

#
# Settings for fields processing.
#

[fields]
#
# List of wildcard field names to ignore.
ignore = ["_*"]
#
# List of exact field names to hide.
hide = []

# Configuration of the predefined set of fields.
[fields.predefined]
#
# Configuration of the predefined "time" field.
[fields.predefined.time]
show = "auto"
names = [
  "ts",
  "TS",
  "time",
  "TIME",
  "Time",
  "timestamp",
  "Timestamp",
  "TIMESTAMP",
  "_SOURCE_REALTIME_TIMESTAMP",
  "__REALTIME_TIMESTAMP",
  "@timestamp"
]

# Configuration of the predefined "logger" field.
[fields.predefined.logger]
names = ["logger", "LOGGER", "Logger", "span.name"]

# Configuration of the predefined "level" field.
[fields.predefined.level]
show = "auto"

# Common levels.
[[fields.predefined.level.variants]]
names = ["level", "LEVEL", "Level"]

[fields.predefined.level.variants.values]
error = ["error", "err", "fatal", "critical", "panic"]
warning = ["warning", "warn"]
info = ["info", "information"]
debug = ["debug"]
trace = ["trace"]

# Systemd levels.
[[fields.predefined.level.variants]]
names = ["PRIORITY"]

[fields.predefined.level.variants.values]
error = [3, 2, 1]
warning = [5, 4]
info = [6]
debug = [7]

# Configuration of the predefined "message" field.
[fields.predefined.message]
names = ["msg", "message", "MESSAGE", "Message"]

# Configuration of the predefined "caller" field.
[fields.predefined.caller]
names = ["caller", "CALLER", "Caller"]

# Configuration of the predefined "caller-file" field (combines to "caller").
[fields.predefined.caller-file]
names = []

# Configuration of the predefined "caller-line" field (combines to "caller").
[fields.predefined.caller-line]
names = []

#
# Formatting settings.
#

[formatting]
#
# Flatten nested fields by joining them with a dot. Options: [always, never].
flatten = "always"

# Message format [auto-quoted, always-quoted, always-double-quoted, delimited, raw]:
# * "auto-quoted"          • Automatically enables or disables message quotation to improve clarity or avoid ambiguities.
# * "always-quoted"        • Always prints messages in most appropriate to align them consistently and yet maintain readability.
# * "always-double-quoted" • Always prints messages in double quotes to align them consistently.
# * "delimited"            • Separates the message from fields with a supposedly rare delimiter to avoid quotation in most cases and avoid ambiguities at the same time.
#                            See [formatting.punctuation.message-delimiter] setting.
# * "raw"                  • Always prints messages without any quotes, escaping or delimiters.
[formatting.message]
format = "delimited"

# Punctuation settings.
# Each item here is either a string or an object with keys "ascii" and "unicode".
# If set to a string, it is used for both ASCII mode and Unicode mode regardless of the [ascii] setting.
# See [ascii] setting.
[formatting.punctuation]
logger-name-separator = ":"
field-key-value-separator = "="
string-opening-quote = "'"
string-closing-quote = "'"
caller-name-file-separator = " @ "
hidden-fields-indicator = " ..."
level-left-separator = "["
level-right-separator = "]"
input-number-prefix = "#"
input-number-left-separator = ""
input-name-left-separator = ""
array-separator = " "
source-location-separator = { ascii = "-> ", unicode = "→ " }
input-number-right-separator = { ascii = " | ", unicode = " │ " }
input-name-right-separator = { ascii = " | ", unicode = " │ " }
input-name-clipping = { ascii = "..", unicode = "··" }
input-name-common-part = { ascii = "..", unicode = "··" }
message-delimiter = { ascii = "::", unicode = "›" }

# Expansion settings.
[formatting.expansion]
# Field expansion mode [never|inline|auto|always].
# - never: single line output, no expansion
# - inline: expand inline (backward compatible with master branch)
# - auto: automatically expand fields with multi-line content (newlines, tabs)
# - always: always expand fields into multiple lines
mode = "auto"
